CREATE TABLE USERS
(
  id INT NOT NULL AUTO_INCREMENT, 
  user_name VARCHAR(10) NOT NULL, 
  user_password VARCHAR(10) NOT NULL,
  CONSTRAINT user_PK PRIMARY KEY (id)
);

CREATE TABLE CUSTOMERS
(
  id INT NOT NULL AUTO_INCREMENT, 
  cust_gname VARCHAR(20) NOT NULL, 
  cust_fname VARCHAR(30) NOT NULL, 
  cust_street VARCHAR(30) NOT NULL, 
  cust_suburb VARCHAR(30) NOT NULL, 
  cust_state VARCHAR(6) NOT NULL, 
  cust_postcode VARCHAR(4) NOT NULL, 
  cust_email VARCHAR(50) NOT NULL, 
  cust_phone VARCHAR(12), 
  cust_mobile VARCHAR(12),
  CONSTRAINT cust_PK PRIMARY KEY (id)
);

CREATE TABLE RESTAURANTS
(
  id INT NOT NULL AUTO_INCREMENT, 
  rest_name VARCHAR(30) NOT NULL, 
  rest_address1 VARCHAR(30) NOT NULL, 
  rest_address2 VARCHAR(30) NOT NULL, 
  rest_suburb VARCHAR(30) NOT NULL, 
  rest_state VARCHAR(10) NOT NULL, 
  rest_postcode VARCHAR(4) NOT NULL,
  CONSTRAINT rest_PK PRIMARY KEY (id)
);

CREATE TABLE INGREDIENTS
(
  id INT NOT NULL AUTO_INCREMENT, 
  ing_name VARCHAR(50) NOT NULL,
  CONSTRAINT ing_PK PRIMARY KEY (id)
);

CREATE TABLE MENUS
(
  id INT NOT NULL AUTO_INCREMENT,
  restaurant_id INT NOT NULL,
  menu_desc VARCHAR (30) NOT NULL,
  CONSTRAINT menu_PK PRIMARY KEY (id),
  CONSTRAINT menu_FK FOREIGN KEY (restaurant_id) REFERENCES RESTAURANTS(id) ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE RECIPES
(
  id INT NOT NULL AUTO_INCREMENT,
  menu_id INT NOT NULL,
  recipe_name VARCHAR (30) NOT NULL,
  recipe_image VARCHAR (30),
  CONSTRAINT recipe_PK PRIMARY KEY (id),
  CONSTRAINT recipe_FK FOREIGN KEY (menu_id) REFERENCES MENUS(id) ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE INGREDIENTS_RECIPES
(
  id INT NOT NULL AUTO_INCREMENT,
  ingredient_id INT NOT NULL,
  recipe_id INT NOT NULL,
  CONSTRAINT ing_recipe_PK PRIMARY KEY (id),
  CONSTRAINT ing_recipe_FK1 FOREIGN KEY (ingredient_id) REFERENCES INGREDIENTS(id) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT ing_recipe_FK2 FOREIGN KEY (recipe_id) REFERENCES RECIPES(id) ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE CUSTOMERS_INGREDIENTS
(
  id INT NOT NULL AUTO_INCREMENT,
  customer_id INT NOT NULL,
  ingredient_id INT NOT NULL,
  CONSTRAINT cust_ing_PK PRIMARY KEY (id),
  CONSTRAINT cust_ing_FK1 FOREIGN KEY (customer_id) REFERENCES CUSTOMERS(id) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT cust_ing_FK2 FOREIGN KEY (ingredient_id) REFERENCES INGREDIENTS(id) ON DELETE CASCADE ON UPDATE CASCADE
);